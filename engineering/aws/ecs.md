# ECS(EC2 Container Service)

- EC2 の上でコンテナを動かすサービス
- クラスターで Docker コンテナを簡単に実行、停止、管理できる非常にスケーラブルで高速なコンテナ管理サービス
- ECS を使用すると、シンプルな API コールでコンテナベースのアプリケーションを起動および停止したり、一元サービスからクラスターの状態を取得したり、多くの使い慣れた EC2 機能にアクセスしたりできる

(ex)

- 普通なら EC2 上にただ複数のコンテナを作成した場合にロードバランサーによってポートマッピングの設定などが必要だが、ECS を使うことで以下を自動で行ってくれる
  - クラスタ構成 
  - ポートマッピング
  - コンテナの生死監視と自動復旧

##  起動タイプ

**Fargate 起動タイプ**

- コンテナ内のアプリケーションのパッケージ化、CPU 要件やメモリ要件の指定、ネットワーキングポリシーや IAM ポリシーの定義、アプリケーションの起動のみを行う
- EC2 のクラスタの管理が不要になる

  - インスタンスタイプの設定
  - クラスタースケジューリングの管理
  - クラスター使用の最適化

**EC2 起動タイプ**

- サーバーレベルの詳細なコントロールが可能
  - サーバーのクラスターを管理
  - サーバーでのコンテナの配置を管理
  - リソースが不足した時に手動で EC2 を追加することで対応する

## タスク定義

- アプリケーションを構成する１つの以上のコンテナを記述する JSON テキスト(= アプリケーションの設計図)

(記述するパラメータ)

- 使用するコンテナ
- 使用する起動タイプ
- アプリケーションのコンテナインスタンスで開くポート
- タスクのコンテナが使用するデータボリューム

## タスク

---

## その他

(関連メモ)

- コンテナ化することでプロセスを分離できる。これにより、容易に  アプリケーションを分離して、マイクロサービスのような独立したコンポーネントを構築可能である。

(参考)

- [ECS の概念を理解しよう](http://www.mpon.me/entry/2017/11/19/200000)
- [モノリシックアプリケーションをマイクロサービスに分割する](https://aws.amazon.com/jp/getting-started/projects/break-monolith-app-microservices-ecs-docker-ec2/module-four/)
- [[レポート] マイクロサービスはコンテナで実現する？それともサーバーレスで実現する？](https://dev.classmethod.jp/cloud/aws/reinvent-arc214/)
