## あるべき姿(目的)

- 検索ワード(in)に対して、表記ゆれがある場合にデータベースからその表記ゆれ配列を持ってきて、その中から代表語を返す(out)

↓

- １つのリクエストに返して、１つのレスポンスを返すだけの機能

## 考えるべき項目

- severless アーキテクチャ(AWS Lambda) or アプリケーションサーバー(EC2 インスタンス)
- 表記ゆれ配列取得と代表語の選定を分けるか？
- DB に何を使うか

## severless アーキテクチャ(AWS Lambda) or アプリケーションサーバー(EC2 インスタンス)

### severless アーキテクチャ(AWS Lambda)

「非常駐型プロセス」をイベントによってトリガーするインフラストラクチャ

- メリット

  - インフラまわりの構築と管理の手間が省ける
    - 環境設定不要
    - 起動・監視不要
    - オートスケーリングしてくれる
  -  複雑になりがちなトリガーに対する処理の実行を簡単に書ける
    - アプリケーションの開発と Lambda ファンクション(トリガーに対する処理実行関数)をアップロードするだけいい。
  -  トリガーに対して起動するので、コストが抑えられる
    - リクエストのうち毎月最初の 1,000,000 件は無料。以後は 1,000,000 件のリクエストにつき 0.20 USD
  -  セキュリティに関してはブラックボックスだが、外部への露出が少ないので安全

- デメリット
  - AWS リソース(S3, DynamoDB, SQS...)と同じリージョンでなければならないという制約  
    => 特に問題なさそう。
  - ステートレスなので、 複雑な機能への使用に向かない  
    => 外部に永続的なに  データを保管するものが必要 = AWS リソース
  - タイムアウト時間が最大 300 秒まで  
    => 基本的に  簡単な機能向けなのと数秒で返すべきものなので、 仮にタイムアウト上限を越えようとも、ここの問題ではない。なんなら 5 秒まででいい

### EC2 インスタンス

- メリット

  - 複雑な処理に対応できる  
    => 今回は簡単な機能
  - コストは lembda とそんなに変わらない
  - タイムアウト時間がない  
    =>  そもそも  短時間で処理できるようにするため不要なメリット

- デメリット

  - インフラの  設定と管理が必要
  - セキュリティ管理も必要

(結論)

- Lambda が良さそう
  - 今回の API の機能規模的に適している



### 表記ゆれ配列取得と代表語の選定を分けるか？

- 分ける

  - メリット
    -

- 別々にどこで使う機能ではない
